<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Checkout — El Claustro</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>

<h1>Finalizar compra</h1>

<form method="post" action="{% url 'checkout' %}">
    {% csrf_token %}
    <label>Nombre</label><br>
    <input type="text" name="nombre" value="{{ usuario.nombre }}"><br><br>

    <label>Teléfono</label><br>
    <input type="text" name="telefono" value="{{ usuario.telefono }}"><br><br>

    <label>Método de pago</label><br>
    <select name="metodo_pago">
        <option value="efectivo">Efectivo</option>
        <option value="tarjeta">Tarjeta (simulada)</option>
        <option value="transferencia">Transferencia (simulada)</option>
    </select><br><br>

    <label>Tipo de entrega</label><br>
    <select name="tipo_entrega">
        <option value="retiro">Retiro en local</option>
        <option value="domicilio">Domicilio</option>
    </select><br><br>

    <h3>Resumen</h3>
    <ul>
        {% for item in items %}
            <li>{{ item.cantidad }} x {{ item.producto.nombre }} — ${{ item.subtotal }}</li>
        {% endfor %}
    </ul>

    <p><strong>Total: ${{ total }}</strong></p>

    <button class="btn primary" type="submit">Simular pago y confirmar</button>
</form>

<a href="{% url 'carrito' %}">Volver al carrito</a>

</body>
</html>